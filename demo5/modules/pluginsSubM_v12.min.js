define(['jquery'], function() {
    ! function(a) {
        var b = {};
        onOffFlag = 1, a(document).on("click.suggestor", function() {
            onOffFlag || a.each(b, function() {
                a(this).removeClass("slideDown")
            })
        });
        var c = ncCacheFactory.getCache("sgtr"),
            d = function() {
                return "undefined" != typeof Storage ? !0 : !1
            },
            e = function(a, b, d) {
                var e = c.getItem("sug_Tracking") || {};
                e[a] = d, c.setItem("sug_Tracking", e)
            },
            f = "http://suggestlg.naukimg.com/logger/log?";
        a(window).unload(function() {
            var b, c;
            a("[trackobj]").each(function() {
                c = a(this).val(), a.isEmptyObject(c) || (b = a(this).attr("id").split("hid_")[1], e(b, f, "&lgData=" + c))
            })
        }), a.fn.suggestor = function(e) {
            var g = {
                    url: {},
                    showRelatedConcept: !0,
                    relatedConcept_dataLayer: !0,
                    autoCorrect_dataLayer: !0,
                    maxSuggestions: 15,
                    maxHeight: 300,
                    multiSearch: !1,
                    startSearchAfter: 1,
                    suggestOnClick: !1,
                    whiteListSpecialChar: [],
                    relatedCorrectionText: "Did you mean ?",
                    relatedConceptText: "Related Skills",
                    glbArray: !1,
                    placeholder: !1,
                    trackUserInteraction: !1,
                    grouping: !0,
                    isPrefetch: !0,
                    source: "server",
                    versionKey: "__infoEdge/versions",
                    onSelect: function() {},
                    scrollStyle: "",
                    returnFocus: !0,
                    relatedConceptCategory: {
                        skill: "Skills"
                    },
                    form: !1
                },
                h = a.extend({}, g, e),
                i = function(b, c) {
                    if (b) {
                        var d = this,
                            e = d.id;
                        a.jsonp({
                            url: b + "&callback=suggestInfoEdge",
                            cache: !0,
                            callback: "suggestInfoEdge",
                            beforeSend: function() {
                                a("#" + e + " .nLoder").show()
                            },
                            success: function(b) {
                                d.cached = !1, b.resultList ? a.isEmptyObject(b.resultList) && d.dropCont.hasClass("slideDown") ? Q.call(d) : (d.dataType = "autoconcepts", c(b)) : b.resultConcepts ? (a.isEmptyObject(b.resultConcepts) ? Q.call(d) : (d.dataType = "relatedConcept", h.getRelatedConcepts && h.getRelatedConcepts(b, d.Qry), h.relatedConcept_dataLayer && c(b)), d.RCMaxCntr++) : b.resultCorrections ? (a.isEmptyObject(b.resultCorrections) ? Q.call(d) : (d.dataType = "relatedConcept", h.getAutoCorrect && h.getAutoCorrect(b, d.Qry), h.autoCorrect_dataLayer && c(b)), d.RCMaxCntr++) : c(b)
                            },
                            complete: function() {
                                d.node.find(".nLoder").hide()
                            },
                            error: function() {
                                d.node.find(".nLoder").hide(), Q.call(d)
                            }
                        })
                    }
                },
                j = function() {
                    var b = this,
                        c = [];
                    if (b.rs_kWrds = [], b.rs_kWrdsStr = "", h.showRecentSearch) {
                        for (var d = getRecentSearchArray("rcnt_srch", getSection()), e = d.length - 1; e >= 0; e--) {
                            var f = a.trim(decodeURIComponent(d[e][0]));
                            f && -1 == a.inArray(f.toLowerCase(), c) && (c.push(f.toLowerCase()), b.rs_kWrds.push(f))
                        }
                        b.rs_kWrdsStr = b.rs_kWrds.join(",").replace(/\s,|,\s/g, ",")
                    }
                    var g = h.prefetchData,
                        i = getCookie(g.userCookie);
                    return i ? {
                        key: g.key + "/uId/" + i,
                        url: h.url.prefetch + "&" + Math.random(1, 100) + "&keywords=" + b.rs_kWrdsStr + "&uid=" + i,
                        keywords: b.rs_kWrdsStr
                    } : b.rs_kWrdsStr ? {
                        key: g.key,
                        url: h.url.prefetch + "&" + Math.random(1, 100) + "&keywords=" + b.rs_kWrdsStr,
                        keywords: b.rs_kWrdsStr
                    } : {
                        key: g.key,
                        url: h.url.prefetch + "&" + Math.random(1, 100) + "&keywords=",
                        keywords: b.rs_kWrdsStr
                    }
                },
                k = function(b, c) {
                    var d = a.extend({}, b.ac, c.ac),
                        e = a.extend({}, b.ac, c.rc);
                    return {
                        ac: d,
                        rc: e,
                        ttl: c.ttl,
                        segments: c.segments,
                        keyword_based_data: c.keyword_based_data
                    }
                },
                l = function() {
                    var a = this;
                    h.url.checkVersion += Math.random(0, 100), a.prefetchObj = j.call(a), i.call(a, h.url.checkVersion, function(b) {
                        q(h.versionKey, b);
                        var d = c.getItem(a.prefetchObj.key);
                        if (d)(a.prefetchObj.keywords && d.keyword_based_data === !1 || +new Date(d.ttl) - +new Date < 0) && i.call(a, a.prefetchObj.url + "&segments=" + d.segments, function(b) {
                            q(a.prefetchObj.key, k(d, b))
                        });
                        else {
                            isDataExist = c.getItem(h.prefetchData.key);
                            var e = isDataExist ? isDataExist.segments : "";
                            i.call(a, a.prefetchObj.url + "&segments=" + e, function(b) {
                                q(a.prefetchObj.key, b)
                            })
                        }
                    })
                },
                m = function(a, b) {
                    var c = b,
                        d = b;
                    if (a.setSelectionRange) a.focus(), a.setSelectionRange(c, d);
                    else if (a.createTextRange) {
                        var e = a.createTextRange();
                        e.collapse(!0), e.moveEnd("character", d), e.moveStart("character", c), e.select()
                    }
                },
                n = function(a) {
                    return a.replace(/(<([^>]+)>)/gi, "").replace(/&amp;/gi, "&")
                },
                o = function(b) {
                    return b = a.trim(b).toLowerCase(), b = a.trim(b.substring(b.lastIndexOf(",") + 1, b.length))
                },
                p = function(b) {
                    var c = a.trim(b).replace(/,*$/g, "");
                    return a.trim(c.substring(c.lastIndexOf(",") + 1, c.length)).toLowerCase()
                },
                q = function(a, b) {
                    c.setItem(a, b)
                },
                r = function(a, b) {
                    if (this.prefetchObj) {
                        var d = c.getItem(this.prefetchObj.key);
                        return d && d[b][a] || (d = c.getItem(h.prefetchData.key)), d ? d[b][a] : !1
                    }
                    return !1
                },
                s = function() {
                    var a = this,
                        b = a.inpElm.val();
                    b && a.inpElm.val(b.replace(/,\s*$/, ""))
                },
                t = function(b) {
                    var c = this,
                        d = c.inpElm.val(),
                        e = d.substring(0, d.lastIndexOf(",") + 1);
                    return e = e ? e + " " : "", b = a.trim(n(b).replace(/,*$/g, "")), h.multiSearch ? e + b + ", " : b
                },
                u = function(b, c) {
                    return a.inArray(b[0], c.find("li.sugTouple")) + 1
                },
                v = function(b) {
                    var c = this,
                        d = c.inpElm.next("[trackobj]"),
                        e = o(b.replace(/[,\s]*$/, "")),
                        f = o(c.queryChar);
                    c.tObj.push("autoconcepts" == c.dataType ? {
                        type: "ac",
                        acFor: f,
                        sel: e,
                        pos: c.posIndex,
                        cached: c.cached
                    } : "relatedConcept" == c.dataType ? {
                        type: "rc",
                        rcFor: c.Qry,
                        sel: e,
                        pos: c.posIndex,
                        cached: c.cached
                    } : {
                        sel: e,
                        pos: c.posIndex
                    });
                    var g = h.form ? h.form.attr("id") : "",
                        i = {
                            Events: c.tObj,
                            sId: h.sourceId,
                            fId: g,
                            platform: "desktop"
                        };
                    d.val(a.stringify(i))
                },
                w = function(a, b) {
                    var c = this,
                        d = c.id,
                        e = c.inpElm,
                        f = a.html(),
                        g = t.call(c, f);
                    c.enableRC_for_onfocus = !1, g.length < h.maxlength ? (e.val(g), h.trackUserInteraction && v.call(c, g), h.returnFocus && m(e[0], e.val().length), b && M.call(c, e.val()), h.onSelect && h.onSelect(d, n(f), e)) : h.onSelect && h.onSelect(d, "Warning: maximum length reached", e)
                },
                x = function(a) {
                    var b = this,
                        c = b.dropCont.find(a);
                    return c = c.hasClass("category") ? c.next() : c
                },
                y = function(a) {
                    a && a.find(".sAct").removeClass("sAct")
                },
                A = function(a, b) {
                    var c = this,
                        d = a;
                    return a = "prev" == b ? a.prev().hasClass("category") ? a.prev().prev().length ? a.prev().prev() : x.call(c, " li:last-child") : a.prev().length ? a.prev() : x.call(c, " li:last-child") : a.next().length ? a.next().hasClass("category") ? a.next().next() : a.next() : x.call(c, " li:first-child"), c.curElm.find(".Sarw").hasClass("sAct") ? a.find(".Sarw").addClass("sAct") : a.find(".Sbtn").addClass("sAct"), y(d), h.multiSearch || c.inpElm.val(n(a.find(".Sbtn").html())), a
                },
                B = function(b, c) {
                    var d = this;
                    return c = a("#" + b), c = c.hasClass("category") ? c.next() : c, c.find(".Sbtn").addClass("sAct"), h.multiSearch || d.inpElm.val(n(c.find(".Sbtn").html())), c
                },
                C = function(a, b) {
                    var c;
                    c = "object" == typeof a ? a.displayTextEn : a;
                    var d = "",
                        e = "",
                        f = "",
                        g = "";
                    c = c.replace(/&amp;/gi, "&"), b.split(",")[1] && h.multiSearch && (b = O(b)), b = b.replace(/[\s]+/g, " ").replace(/^\s/, "").toLowerCase();
                    var i = c,
                        j = i.toLowerCase(),
                        k = j.indexOf(b),
                        l = j,
                        m = b,
                        n = l.indexOf(" " + m) < 0 ? !1 : l.indexOf(" " + m),
                        o = l.indexOf("(" + m) < 0 ? !1 : l.indexOf("(" + m),
                        p = l.indexOf("/" + m) < 0 ? !1 : l.indexOf("/" + m);
                    (k >= 0 && (n || o || p) || 0 === k) && (k && (n ? k = n + 1 : o ? k = o + 1 : p && (k = p + 1)), e = i.substr(0, k), f = i.substr(k, b.length), g = "<strong>" + i.substr(k + b.length, i.length) + "</strong>"), f = f ? f : c;
                    var q;
                    q = b ? e + f + g : f;
                    var r = h.suggestOnClick ? '<div class="wrapTable"><div tabindex="-1" class="Sbtn">' + e + f + g + '</div></div><span class="Sarw"></span>' : '<div tabindex="-1" class="Sbtn" style="width:100%">' + q + "</div>";
                    return d = '<li class="sugTouple">' + r + "</li>"
                },
                D = function(a, b) {
                    var c = {},
                        d = 0;
                    for (var e in b) a[e] && (c[e] = a[e], d++);
                    return [c, d]
                },
                E = function(b, c, d) {
                    var e, f, g = this,
                        i = "";
                    "resultConcepts" == d ? e = h.relatedConceptCategory : "autoComplete" == d && (e = h.category), f = !d && h.showTitleForSingleBucket ? D(c, {
                        rs: "rs"
                    }) : D(c, e);
                    var j = f[1];
                    c = f[0], b = b.replace(/&amp;/gi, "&");
                    for (var k in c) {
                        var l = "",
                            m = 0;
                        for (var n in c[k])
                            if (d || m++ < h.maxSuggestions) {
                                var o = g.inpElm.val().replace(/\s,/g, ",").replace(/,\s/g, ",").toLowerCase();
                                if (-1 != o.indexOf(",") && -1 != a.inArray(c[k][n].displayTextEn.toLowerCase(), o.split(","))) continue;
                                l += C.call(g, c[k][n], b)
                            }
                        l && j > 1 ? i += h.grouping ? '<li class="category ' + k + '">' + (h.category[k] ? h.category[k] : k) + "</li>" + l : l : !d && h.showTitleForSingleBucket ? i += '<li class="category ' + k + '">Last Searched Keywords</li>' + l : i = l
                    }
                    return a.isEmptyObject(c) || ("resultCorrections" == d ? i = '<li class="category">' + h.relatedCorrectionText + "</li>" + i : "resultConcepts" == d && (i = '<li class="category">' + h.relatedConceptText + "</li>" + i)), i
                },
                F = function() {
                    var a = _t.inpElm;
                    h.placeholderTxt = a ? a[0].getAttribute("placeholder") : "", a.val(h.placeholderTxt).css({
                        color: "#8B8B8B"
                    })
                },
                G = function() {
                    _t.inpElm.val("").css({
                        color: "#444"
                    })
                },
                H = function(a) {
                    var b = this;
                    K.call(b, b.queryChar, a.resultList, "autoComplete")
                },
                I = function(a) {
                    var b, c = "";
                    b = a ? h.relatedConceptCategory : h.category;
                    for (var d in b) c += d + ",";
                    return c.replace(/,$/g, "")
                },
                J = function(a, b, e) {
                    var f = this,
                        g = "",
                        i = h.appId ? "&appId=" + h.appId : "",
                        j = h.sourceId ? "&sourceId=" + h.sourceId : "",
                        k = new RegExp("[^a-zA-Z0-9,\\s" + h.whiteListSpecialChar + "]", "g");
                    if (f.Qry = b.replace(k, ""), f.Qry) {
                        if (d() && f.prefetchObj) var l = c.getItem(h.versionKey),
                            g = l ? "&version=" + l.suggester_v : 0;
                        return a + "query=" + encodeURIComponent(f.Qry) + i + "&category=" + I(e) + "&limit=" + h.maxSuggestions + j + g
                    }
                    return !1
                },
                K = function(a, b, c) {
                    var d = this;
                    d.curElm = void 0;
                    var e = E.call(d, O(a), b, c);
                    e ? (d.dropCont.find("ul").html(e), R.call(d)) : Q.call(d)
                },
                L = function(a) {
                    var b = this;
                    if (h.multiSearch && (a = O(a)), a) {
                        var c = J.call(b, h.url.autoComplete, a, !1);
                        i.call(b, c, function(a) {
                            H.call(b, a)
                        })
                    }
                },
                M = function(a) {
                    var b = this;
                    z = O(a);
                    var c = N.call(b, z, "rc", h.relatedConceptCategory);
                    if (c[0]) Q.call(b), b.dataType = "relatedConcept", K.call(b, z, c[1], "resultConcepts"), b.RCMaxCntr++;
                    else {
                        Q.call(b);
                        var d = J.call(b, h.url.relatedConcept, z, !0);
                        i.call(b, d, function(a) {
                            for (var c in a);
                            K.call(b, z, a[c], c)
                        })
                    }
                },
                N = function(a, b, c) {
                    var e, f = 0;
                    if (a && d() && (e = r.call(this, a, b)))
                        for (var g in c) e[g] && (f = 1, this.cached = !0);
                    return [f, e]
                },
                O = function(b) {
                    var c = a.trim(b).replace(/,*$/g, "").toLowerCase();
                    return a.trim(c.substring(c.lastIndexOf(",") + 1, c.length))
                },
                P = function() {
                    var b = this;
                    return function(c) {
                        {
                            var d, e;
                            a(this)
                        }
                        a(c.target).hasClass("Sarw") ? (d = a(c.target).parents("li"), flag = !0) : (a(c.target).hasClass("Sbtn") || a(c.target).is("strong")) && (d = a(c.target).closest("li"), flag = h.suggestOnClick ? !1 : !0), e = d.find(".Sbtn"), (!h.showRelatedConcept || b.RCMaxCntr >= h.relatedConceptsLimit - 1) && (flag = !1, Q.call(b)), b.posIndex = u(d, b.dropCont), w.call(b, e, flag), h.suggestOnClick && Q.call(b)
                    }
                },
                Q = function() {
                    var c = this,
                        d = c.id;
                    y(c.curElm), c.dropCont.removeClass("slideDown"), c.curElm = "", a("#" + d).find(".sWrap").removeClass("sOpen").addClass("sHide"), delete b[d], h.onHide && h.onHide(), setTimeout(function() {
                        c.enableRC_for_onfocus = !0
                    }, 500)
                },
                R = function() {
                    var c = this,
                        d = c.id;
                    c.wth = h.width ? h.width : a(document.getElementById(d)).outerWidth() + "px", c.dropCont.css({
                        width: c.wth
                    }).addClass("slideDown"), a("#" + d).find(".sWrap").removeClass("sHide").addClass("sOpen"), b[d] = c.dropCont, h.onShow && h.onShow()
                },
                T = function() {
                    var b = this;
                    b.dropCont.on("mouseover", ".Sbtn,.Sarw,strong", function() {
                        a(this).hasClass("Sbtn") ? a(this).addClass("sAct") : a(this).is("strong") ? a(this).parent().addClass("sAct") : a(this).addClass("sAct"), y(b.curElm), b.curElm = a(this)
                    }).mouseout(function() {
                        b.curElm = void 0, y(a(this))
                    })
                },
                U = function(b) {
                    var c = b.target || b.srcElement;
                    a(c).hasClass("inpWrap") && a(this).find(".sugInp").focus()
                },
                V = function() {
                    var a = [],
                        b = {};
                    for (var c in this.rs_kWrds) a.push({
                        displayTextEn: this.rs_kWrds[c]
                    });
                    return b.rs = a, b
                },
                W = function() {
                    var b = this;
                    val = a.trim(b.inpElm.val()), b.curOpenSugg = b.id, h.showRecentSearch && (a.trim(b.inpElm.val()) || (h.category = a.extend({}, h.category, {
                        rs: "rs"
                    }), b.rs_kWrdsStr ? K.call(b, "", V.call(b)) : (j.call(b), b.rs_kWrdsStr && K.call(b, "", V.call(b))))), h.multiSearch && val && val != h.placeholderTxt ? (a.support.placeholder ? b.inpElm.val(val.replace(/[,\s]*$/, ", ")) : setTimeout(function() {
                        b.inpElm.val(val.replace(/[,\s]*$/, ", "))
                    }, 10), h.showRelatedConcept && b.enableRC_for_onfocus && b.RCMaxCntr < h.relatedConceptsLimit - 1 && M.call(b, p(val))) : !a.support.placeholder && h.placeholder && h.placeholderTxt == val && G.call(b)
                },
                X = function() {
                    var a = this.val();
                    return a.charCodeAt(a.length - 1)
                },
                Y = function(b, c) {
                    var d = this,
                        e = (b.attr("id"), c.keyCode || c.which);
                    (0 == e || 229 == e) && (e = X.call(b));
                    var f = d.inpElm,
                        g = d.id,
                        i = a.trim(f.val());
                    if (d.queryChar = i, 13 == e && "block" == d.dropCont.css("display"))
                        if (d.curElm) {
                            d.posIndex = u(d.curElm, d.dropCont);
                            var j;
                            !h.showRelatedConcept || d.RCMaxCntr >= h.relatedConceptsLimit - 1 ? (j = !1, d.RCMaxCntr++) : j = h.suggestOnClick && d.curElm.find(".Sbtn").hasClass("sAct") ? !1 : !0, w.call(d, d.curElm.find(".Sbtn"), j), j || Q.call(d)
                        } else Q.call(d);
                    else if (27 == e) Q.call(d);
                    else if (i || 8 != e && 46 != e)
                        if (e >= 48 && 90 > e || e >= 97 && 122 >= e || 16 == e || 188 == e || 8 == e) {
                            if (c.ctrlKey && 86 === e && (i = i.replace(/,$/, ""), f.val(i)), i)
                                if ("server" == h.source)
                                    if (188 == e && -1 != i.lastIndexOf(",") && h.multiSearch) h.showRelatedConcept && M.call(d, p(i));
                                    else {
                                        var k = h.multiSearch ? o(i) : i;
                                        if (k.length > h.startSearchAfter - 1) {
                                            var l = N.call(d, k, "ac", h.category);
                                            l[0] ? (d.dataType = "autoconcepts", K.call(d, i, l[1], "autoComplete")) : L.call(d, i)
                                        }
                                    } else "local" == S.client[g] && S.returnDataArray(g, i);
                            a("#" + g).find(".sCross").show().click(function() {
                                d.inpElm.val("").focus(), a(this).hide(), Q.call(d), d.dropCont.find("ul").html("")
                            })
                        } else c.ctrlKey && 39 == e || c.ctrlKey && 40 == e ? (d.curElm.find(".Sbtn").removeClass("sAct"), d.curElm.children(".Sarw").addClass("sAct")) : c.ctrlKey && 37 == e || c.ctrlKey && 38 == e ? (d.curElm.children(".Sarw").removeClass("sAct"), d.curElm.find(".Sbtn").addClass("sAct")) : d.dropCont.find("li").length && ("none" == d.dropCont.css("display") && 40 == e ? R.call(d) : 38 == e ? (d.curElm = d.curElm ? A.call(d, d.curElm, "prev") : B.call(d, g + " li:last-child", d.curElm), R.call(d)) : 40 == e && (d.curElm = d.curElm ? A.call(d, d.curElm, "next") : B.call(d, g + " li:first-child", d.curElm)));
                    else a("#" + g + " .sCross").hide(), Q.call(d)
                },
                Z = function(a) {
                    var b = this,
                        c = a.which || a.keyCode;
                    if (38 == c) a.preventDefault();
                    else if (13 == c) "block" == b.dropCont.css("display") && b.curElm && a.preventDefault();
                    else if (9 == c) {
                        if (b.curElm) {
                            var d = b.curElm.html().replace(/(<([^>]+)>)/gi, "").replace(/&amp;/gi, "&");
                            b.inpElm.val(t.call(b, d))
                        }
                        s.call(b), Q.call(b)
                    }
                },
                $ = function(b) {
                    var e = this;
                    if (e.id = b.attr("id"), e.enableRC_for_onfocus = !0, e.tObj = [], e.RCMaxCntr = 0, e.inpElm = b.find(".sugInp"), h.placeholderTxt = e.inpElm.attr("placeholder"), e.inpElm.attr({
                            autocomplete: "off"
                        }), h.maxlength = e.inpElm.attr("maxlength") || 1e4, e.dropCont = a('<div class="sugCont ' + h.scrollStyle + '" id="sugDrp_' + e.id + '">').append('<ul class="Sdrop"></ul>'), b.append(e.dropCont), h.trackUserInteraction) {
                        var g = e.inpElm.attr("name") ? 'name="' + e.inpElm.attr("name") + "_" + e.id + '"' : "",
                            j = a('<input id="hid_' + e.id + '" type="hidden" trackObj ' + g + "/>");
                        j.insertAfter(e.inpElm)
                    }
                    if (!h.placeholder || a.support.placeholder || a.trim(e.inpElm.val()) || F.call(this), e.inpElm.focus(function() {
                            W.call(e)
                        }).keyup(function(b) {
                            Y.call(e, a(this), b)
                        }).keydown(function(a) {
                            e.curOpenSugg || (e.curOpenSugg = e.id), Z.call(e, a)
                        }).blur(function() {
                            if (!e.insideBoundry) {
                                Q.call(e);
                                var a = e.inpElm.val();
                                a && e.inpElm.val(a.replace(/,\s*$/, ""))
                            }
                        }), b.on("mouseenter", function() {
                            e.insideBoundry = !0, onOffFlag = 1
                        }).on("mouseleave", function() {
                            e.insideBoundry = !1, onOffFlag = 0
                        }).find(".sWrap").click(U), T.call(e), e.dropCont.on("click", ".sugTouple", P.call(e)), !window.isFistCall && h.url.prefetch && d() && h.isPrefetch && (l.call(e), isFistCall = !0), h.trackUserInteraction && d()) {
                        var k = c.getItem("sug_Tracking"),
                            m = [];
                        if (k) {
                            for (var n in k) m.push(k[n]);
                            i.call(e, f + "?" + m, function() {
                                c.removeItem("sug_Tracking")
                            })
                        }
                    }
                },
                _ = function(a) {
                    this.node = a, $.call(this, a), this.setTrackingObject = v
                },
                ab = this.data("suggestor");
            return ab || this.each(function(b, c) {
                var d = a(c);
                ab = new _(d), d.data("suggestor", ab)
            }), ab
        }
    }(window.jQuery || window.Zepto), $(document).click(function(a) {
        $(a.target).parents(".ddwn").length || $(".ddwn .drop").hide()
    });
    var DD = function(a, b, c, d) {
        function e() {
            return arguments.length ? function() {} : function() {}
        }

        function f() {
            function a(a) {
                return function() {
                    var b = $(this).attr("id"),
                        c = a[b],
                        d = c.id;
                    if (d)
                        for (var e in d) {
                            var f = d[e];
                            m.inpHid.attr("value", ""), m.chkBox ? m.removeAllTags(f) : (m.inpElm.val(""), m.inpHid.data("optGroupKey", "")), m.Allflg = "", m.hideDD(), m.dependent ? m.onClickLi(m.obj, "") : ""
                        }
                    c.clrCalbackfun && m.onClearTag[b](m.obj, 0, $(this))
                }
            }
            for (var b = 0; b < m.idLen; b++) {
                var c, d = m.idKey[b];
                if (m.clearAllInside) {
                    var e = "Clear All";
                    for (var f in m.clearAllInside) e = m.clearAllInside[f];
                    c = $("<div>").addClass("DDclearAll").attr({
                        id: "clrAll_" + d
                    }).html(e)
                }
                var j = $("#" + d).find(".srchTxt");
                if (!$("#dp_" + d).length) {
                    {
                        var k, l = j.attr("name");
                        $("#" + d).find(".arw").addClass("DDarwDwn")
                    }
                    m.chkBox ? k = $("#" + d + " .DDsearch li") : (k = $("#" + d).find(".DDsearch"), $("#" + d).addClass("singleSelect")), j.data("id", "inp_" + d).attr({
                        name: "",
                        autocomplete: "off"
                    }), m.placeholder && j.data({
                        placeholder: j.attr("placeholder")
                    }), m.outerCont.find(".frst").css({
                        "float": "none"
                    }), $("#hid_" + d).length || (m.inpHid = $("<input>").attr({
                        type: "hidden",
                        id: "hid_" + d,
                        name: l
                    }), k.append(m.inpHid));
                    var n = $("<div>"),
                        o = $("<div>"),
                        p = $("<ul>"),
                        q = $("#" + d),
                        r = m.chkBox ? "ChkboxEnb" : "";
                    o.addClass("nScroll").attr("id", "ul_" + d), n.addClass("drop").attr("id", "dp_" + d), p.addClass(r), o.append(p), c ? n.append(c) : "", n.append(o), q.append(n), $("#" + d).on("click", ".DDinputWrap, .DDsearch, .arw", function(a) {
                        a.stopPropagation(), $("#" + d).find(".srchTxt")[0].focus()
                    }).on("mouseenter", function() {
                        m.layerOpenStatus = m.srchBx !== !1 ? !0 : !1
                    }).on("mouseleave", function() {
                        m.layerOpenStatus = !1
                    })
                }
                $("#" + d).find(".srchTxt").focus(h).keydown(function(a) {
                    i(a, $(this))
                }).keyup(m.Fn.keyUpEv).blur(g), m.layerOpenStatus = m.srchBx !== !1 ? !0 : !1
            }
            if (m.fillData(), m.clrId)
                for (var f in m.clrId) $("#" + f).on("click", a(m.clrId))
        }

        function g() {
            var b = m.id;
            if (!m.TagSpCnt && m.chkBox ? $("#" + b + " .tagit:last").removeClass("TagSelected") : "", !m.chkBox) {
                var c = m.inpHid,
                    d = m.inpElm,
                    e = c.attr("opt"),
                    f = e ? m.uEscp(e) : "",
                    g = c.attr("value"),
                    h = a.id[b][0],
                    i = f ? h[f][g] : h ? h[g] : "";
                d.val() ? i && d.val(i).css({
                    color: "#444"
                }) : (c.val(""), m.onDeselect && m.onDeselect(), m.placeholder && !$.support.placeholder && d.val(d.data("placeholder")).css({
                    color: "#a9a9a9"
                }))
            }
            m.layerOpenStatus || m.hideDD();
            var j = m.dpLyr.css("display");
            if (m.srchBx !== !1 && "block" != j && $("#ul_" + b).find("li").length < m.liCntr) {
                var k = m.appendData(m.Ary, "");
                $("#dp_" + b).find("ul").html(k[0]), m.liCntr = m.liCntrFx
            }
        }

        function h() {
            m.layerOpenStatus = m.srchBx !== !1 ? !0 : !1, m.inpt = $(this);
            var a = $(this).data("id"),
                b = a.split("_")[1],
                c = $("#dp_" + b);
            if (m.dpLyr = c, m.DDSearch = $(this).parent(".DDSearch"), j(), $("#" + a).css({
                    color: "#444"
                }), m.chkBox);
            else if (m.placeholder && !$.support.placeholder) {
                var d = $("#" + a);
                $("#" + a).val() === d.data("placeholder") && $("#" + a).val("")
            }
        }

        function i(a, b) {
            var c, d = m.id,
                e = a.keyCode || a.which,
                f = $("#" + d).width() - 15,
                g = b.val().replace(/\b/g, "");
            (13 == e || 38 == e) && a.preventDefault(), 13 != e || "none" != $("#dp_" + d).css("display") || m.chkBox || $("#dFrom")[0].submit(), 9 == e || 27 == e ? m.hideDD() : "";
            var h = $("#dp_" + d).css("display");
            if ((e >= 97 && 122 >= e || e >= 65 && 90 >= e || e >= 48 && 57 >= e) && !m.TagSpCnt && m.chkBox && m.tags !== !1 && (c = k(f), m.inpElm.css({
                    width: c + "px"
                })), !g && m.chkBox) {
                var i = $("#" + d + " .tagit:last"),
                    l = i.data("id");
                m.TagCnt > 0 && 8 == a.keyCode && !m.TagSpCnt && l && l.length > 0 ? m.Tagfocus ? (m.removeTag(l, i.children(".tagTxt").html(), !0), m.Tagfocus = 0) : ($("#" + d + " .DDsearch").find('[data-id="' + l + '"]').addClass("TagSelected"), m.Tagfocus = 1) : l && ($("#" + d + " .DDsearch").find('[data-id="' + l + '"]').removeClass("TagSelected"), m.Tagfocus = 0)
            }
            var n = $("#dp_" + d),
                o = $("#ul_" + d),
                p = o.find("ul"),
                q = p.find("li:first-child");
            if (m.curActElm.length || (m.curActElm = q), 40 == e)
                if ("none" == h) m.hideDD(), j();
                else {
                    var r, s = m.curActElm.next();
                    s.length && !s.hasClass("noData") && (r = s.hasClass("optgroup") ? s.next() : s, m.curActElm.removeClass("active"), r.addClass("active"), m.curActElm = r, ieObj.scrollHandler(n, p.parent(), q, m.curActElm))
                } else if (38 == e) {
                var t, u = m.curActElm.prev();
                u.length && (t = u.hasClass("optgroup") ? u.prev() : u, t.length && (m.curActElm.removeClass("active"), t.addClass("active"), m.curActElm = t, ieObj.scrollHandler(n, p.parent(), q, m.curActElm)))
            }
        }

        function j() {
            var a = m.id;
            $("#" + a).find(".DDwrap").addClass("brBotN"), $("#" + a + " .drop").show(), $("#ul_" + a)[0].scrollTop = 0;
            var b = $("#" + a).outerWidth() - 2 + "px";
            $("#dp_" + a).css({
                width: b
            }), m.max_height(), m.chkBox || m.firstHighlight()
        }

        function k(a) {
            return a > p ? p += 5 : void(p += 1)
        }

        function l(a, b) {
            if ("" !== m.inpElm.val() && p > o) {
                if (b > p) return p -= 5;
                p -= 1
            }
        }
        var m = this,
            n = 0,
            o = 30,
            p = 30;
        m.obj = a, m.liCntrFx = [], m.onDeselect = a.onDeselect, m.liCntr = [], m.placeholder = a.placeholder || !0, m.sortPrefix = a.sortPrefix, m.idKey = [], m.hidValue = [], m.maxTagsCount = a.maxTagsCount || 99, m.pKey = d, m.idLen = 0, m.srchBx = a.searchBox === !1 ? a.searchBox : !0, m.sts = c, m.prevObj = b, m.clrId = a.clearTagId, m.depend = a.dependent, m.tagsSorting = a.tagsSorting, m.MrgPrfAryOrdr = a.appendTags || !1, m.Ary = {}, m.onClearTag = [];
        for (m.idKey[m.idKey.length] in a.id);
        m.idLen = m.idKey.length, m.sugHgt = a.maxHeight || 300, m.clearAllInside = a.clearAllInside || !1, m.chkBox = a.checkBox || !1, m.layerOpenStatus = !1, m.tags = a.tags === !1 ? a.tags : !0, m.TagSpCnt = a.tagInSepContainer || !1, m.id = m.idKey[0], m.preTxt = a.preText || "You have selected", m.Allflg = "", m.postTxt = a.postText || "item(s)", m.curActElm = "", m.Tagfocus = 0, m.onClickLi = a.onClickReq || e(), m.onTagClk = a.onTagClick || e(), m.onTagCrt = a.onTagCreate || e(), m.outerCont = $("#" + m.id), m.inpElm = m.outerCont.find(".srchTxt"), m.TagCnt = 0, m.obj.resetPrefillValues ? m.ChkBoxContr = {} : m.ChkBoxContr ? "" : m.ChkBoxContr = {}, m.pKey ? (m.chkBox || (DD.Ary[m.id] = {}), DD.Ary[m.id] ? "" : DD.Ary[m.id] = {}, DD.Ary[m.id][m.pKey] = a.id[m.id][0], m.Ary = DD.Ary[m.id]) : (m.Ary = {}, m.Ary.A = a.id[m.id][0]);
        for (var q in a.clearTagId)
            for (var r in a.clearTagId[q]) m.onClearTag[q] = a.clearTagId[q][r];
        m.Fn = {
            preserveEventafterClone: function(b, c) {
                var d, e = m.id;
                d = m.TagSpCnt ? $("#" + m.TagSpCnt).find('[data-id="' + b + '"]') : $("#" + e + " .DDsearch").find('[data-id="' + b + '"]'), d.on("click", ".dCross", function(d) {
                    d.stopPropagation(), m.removeTag(b, $(this).find(".tagTxt").text(), c), m.max_height(), c ? m.onTagClk(a, m.TagCnt) : "", m.setInputText(e), "block" == $("#dp_" + e).css("display") ? $("#" + e).find(".srchTxt")[0].focus() : ""
                })
            },
            keyUpEv: function(a) {
                var b = $(this).data("id"),
                    c = $("#" + b).width() - 15,
                    d = b.split("_")[1],
                    e = a.keyCode || a.which,
                    f = $(this).val().replace(/\b/g, "");
                if (13 == e && m.curActElm && m.curActElm.length && !m.curActElm.hasClass("noData") && m.curActElm.hasClass("active")) {
                    var g = m.curActElm.children("a");
                    if (m.chkBox) {
                        var h = g.data("id") + "_" + m.Escp(m.curActElm.attr("bindto"));
                        g.hasClass("chkd") ? m.removeTag("tg_" + h, g.html(), !0) : m.CreateTags(g, h, d, "", m.tags)
                    } else m.SingleSelection(g.html(), g.data("id").split("_"))
                }
                8 == e && m.chkBox && !m.TagSpCnt && m.tags !== !1 && (wth = f ? l(b, c) + "px" : "", m.inpElm.css({
                    width: wth
                })), 9 != e && 13 != e && 18 != e && 32 != e && 37 != e && 38 != e && 39 != e && 40 != e && (m.Fn.initSearch(f, b, e), "none" == $("#dp_" + d).css("display") && $("#dp_" + d).show())
            },
            initSearch: function(b, c, d) {
                var e = "";
                n = 0, c = c.split("_")[1];
                var f = m.Ary;
                if (b) {
                    b = b.replace(/&amp;/gi, "&").replace(/[\s]+/g, " ").replace(/^\s/, "");
                    for (var g in f)
                        for (var h in f[g])
                            if ("object" == typeof f[g][h]) {
                                var i, j = "";
                                i = f[g][h];
                                for (var k in i) j += m.searchData(i[k], b, c, c + "_" + k + "_" + m.eUnderScore(h), m.Escp(g));
                                j && (e += '<li class="optgroup">' + m.eUnderScore(h) + "</li>" + j, n++)
                            } else $("#" + c + " .cross").show(), e += m.searchData(f[g][h], b, c, c + "_" + m.eUnderScore(h), m.Escp(g)), n++
                } else $("#" + c + " .cross").hide(), e = m.appendData(m.Ary, "", "", d)[0], n = m.liCntrFx;
                if (!e) {
                    var l = a.noDataTxt ? a.noDataTxt : "No data found in search";
                    e = '<li class="noData">' + l + "</li>", n++
                }
                $("#dp_" + c + " ul").html(e), m.liCntr = n, m.max_height(), m.firstHighlight()
            }
        }, m.setInputText = function() {
            var a, b = m.id;
            a = "all" == m.Allflg ? "all" : m.TagCnt, m.TagCnt ? m.TagSpCnt || m.tags === !1 ? m.inpElm.val(m.preTxt + " " + a + " " + m.postTxt) : "" : m.inpHid.val() || ($("#" + b + " .cross").hide(), m.placeholder && !$.support.placeholder && m.inpElm.val(m.inpElm.data("placeholder")).css({
                color: "#a9a9a9",
                width: ""
            }), m.inpElm.css({
                width: ""
            }))
        }, m.fillDatainDropdwonLayer = function(a, b) {
            m.inpElm;
            m.chkBox && m.inpHid.attr({
                value: ""
            }), m.srchBx === !1 ? ($("#" + a).find(".DDwrap").hide(), $("#" + a).find(".drop").css({
                position: "static"
            })) : $("#" + a + " div.drop").css({
                borderTop: 0
            }), $("#ul_" + a + " ul").html(b), b = "", m.srchBx === !1 ? j() : ""
        }, m.liMousehover = function() {
            var a = m.id;
            $("#dp_" + a).on("mouseover", "li.pickVal", function() {
                m.curActElm.length ? "" : m.firstHighlight(), m.curActElm.removeClass("active"), $(this).addClass("active"), m.curActElm = $(this)
            }).on("mouseout", "a", function() {
                $(this).removeClass("active")
            })
        }, m.max_height = function() {
            for (var a = m.id, b = $("#ul_" + a), c = 0, d = $("#ul_" + a).find(" ul li:first"); d.length && m.sugHgt >= c;) c += d.outerHeight(), d = d.next();
            b.css(m.sugHgt < c ? {
                height: m.sugHgt + "px"
            } : {
                height: c + "px",
                width: "100%"
            }), b.length && b[0].csb && b[0].csb.reset()
        }, m.PickValuesFromDD = function() {
            var b, c = m.id;
            $("#dp_" + c).on("click", ".pickVal a", function() {
                if (m.chkBox) {
                    var d = 0,
                        e = $(this),
                        f = e.data("id");
                    if ($(this).hasClass("chkd") && (d = 1), b = e.html(), f.split("_")[1] == m.eUnderScore(m.otherLabId)) 1 == d ? m.onClickLi(a, m.otherLabId, "unChecked") : m.onClickLi(a, m.otherLabId, "checked"), m.hideDD();
                    else {
                        if (1 == d) {
                            var g = f;
                            $(this).parent().attr("bindto") && (g = f + "_" + m.Escp($(this).parent().attr("bindto"))), m.removeTag("tg_" + g, b, !0)
                        } else {
                            var h = $(this).parent().attr("bindto");
                            h ? f = f + "_" + m.Escp(h) : "", m.CreateTags(e, f, c, "", m.tags)
                        }
                        m.srchBx !== !1 ? setTimeout(function() {
                            m.inpElm[0].focus()
                        }, 100) : ""
                    }
                } else m.SingleSelection($(this).html(), $(this).data("id").split("_"))
            })
        }, m.SingleSelection = function(b, c) {
            var d = c[0],
                e = c[2] ? c[2] : "";
            b = b.replace(/(<([^>]+)>)/gi, "").replace(/&amp;/gi, "&"), m.inpElm ? m.inpElm.val(b) : "", $("#" + d + " .cross").show(), m.inpHid.attr({
                value: m.dUnderScore(m.uEscp(c[1])).replace(m.sortPrefix, "")
            }).data("optGroupKey", e), m.layerOpenStatus ? m.hideDD() : "", m.onClickLi(a, m.dUnderScore(m.uEscp(c[1])))
        }, m.removeAllTags = function() {
            var a = m.id;
            for (var b in m.ChkBoxContr) {
                var c, d = m.ChkBoxContr[b],
                    e = d.split("_");
                3 == e.length ? c = e[0] + "_" + e[1] : 4 == e.length && (c = e[0] + "_" + e[1] + "_" + e[2]), $("#ul_" + a).find('[data-id="' + c + '"]').removeClass("chkd"), m.TagSpCnt ? $("#" + m.TagSpCnt).find('[data-id="tg_' + d + '"]').remove() : $("#" + a).find(".DDsearch").find('[data-id="tg_' + d + '"]').remove()
            }
            m.resetInpWidth(a), m.ChkBoxContr = {}, m.hidValue = [], m.TagCnt = 0;
            m.inpElm;
            m.setPlaceHolderAttribute()
        }, m.CreateTags = function(b, c, d, e, f) {
            if (m.hidValue.length < m.maxTagsCount) {
                var g, h = m.uEscp(c).split("_"),
                    i = c.split("_"),
                    j = 3 == i.length ? i[0] + "_" + i[1] : i[0] + "_" + i[1] + "_" + i[2];
                if ("string" != typeof b ? (g = b.html(), b.addClass("chkd")) : g = b, m.TagCnt++, m.placeholder && m.TagCnt && m.inpElm.attr("placeholder", ""), f !== !1) {
                    g = g.replace(/(<([^>]+)>)/gi, "").replace(/&amp;/gi, "&"), a.tagwithOptGroup ? g = "<b>" + h[2].replace("xSlashX", "/").replace(/SxP/gi, " ") + "</b>(" + g + ")" : "";
                    var k, l = $("<li>").append('<span class="tagTxt">' + g + "</span>"),
                        n = "tg_" + c,
                        o = m.TagSpCnt;
                    if (o || f === !1) {
                        var p = l.append($("<a>").addClass("dCross")).addClass("tagit").attr({
                                "data-id": n
                            }),
                            q = $("#" + o)[0];
                        if (m.MrgPrfAryOrdr) {
                            var r = q.children[e];
                            r ? r.parentNode.insertBefore(p[0], r) : $("#" + o).append(p)
                        } else f === !1 ? "" : q.insertBefore(p[0], q.firstChild);
                        m.inpElm.css({
                            color: "#444"
                        }), k = n + " a.dCross"
                    } else m.MrgPrfAryOrdr ? $("#" + d + " ul.DDsearch li:last").before(l.append($("<span>").addClass("dCross")).addClass("tagit").attr({
                        "data-id": n
                    })) : $("#" + d + " ul.DDsearch").prepend(l.append($("<span>").addClass("dCross")).addClass("tagit").attr({
                        "data-id": n
                    })), m.inpElm.css({
                        width: "30px"
                    }), k = n + " span.dCross";
                    m.Fn.preserveEventafterClone(n, !0)
                }
                $("#ul_" + m.id).find('[data-id="' + j + '"]').addClass("chkd"), m.setValueInHiddenField(h[1], g), m.ChkBoxContr[h[1]] = c, m.onClickLi(a, m.dUnderScore(m.uEscp(h[1])), "Checked", $("#tg_" + c), m.TagCnt)
            } else m.onTagCrt("Maximum Tags Created")
        }, m.setValueInHiddenField = function(a, b, c) {
            var d = m.id;
            if (a && b) {
                "all" == b.toLowerCase() && (m.Allflg = "all"), a = m.dUnderScore(m.uEscp(a)).replace(m.sortPrefix, "");
                var e = m.inpHid.val();
                e ? (m.hidValue.push(a), m.inpHid.val($.stringify(m.hidValue))) : (m.hidValue.push(a), m.inpHid.val($.stringify(m.hidValue)), $("#clrAll_" + d).show(), m.TagSpCnt ? $("#" + m.TagSpCnt).show() : $("#" + d).find("li.frst").css({
                    "float": "left"
                })), m.onTagCrt()
            } else c && (m.inpElm.val(""), m.inpHid.val(""))
        }, f(), m.PickValuesFromDD(), m.liMousehover()
    };
    DD.prototype = function() {
        function a() {
            for (var a = [], b = this, c = 0; c < b.idLen; c++) {
                var d = b.idKey[c],
                    e = {};
                if (b.chkBox) {
                    if (b.obj.id[d][1])
                        for (var f in b.obj.id[d][1]) e[b.obj.id[d][1][f]] = "1"
                } else e = b.obj.id[d][1];
                a[d] = e;
                if (b.obj.dependTo ? $("#dp_" + d).length ? (b.NLi = b.appendData(b.Ary, a, e), $("#dp_" + d + " ul").html(b.NLi[0])) : (b.NLi = b.appendData(d, a, e), b.fillDatainDropdwonLayer(d, b.NLi[0], c, b.NLi[3], b.NLi[4])) : (b.inpHid.val() && (b.inpHid.val(""), b.removeAllTags(d), X.ChkBoxContr = {}), b.NLi = b.appendData(b.Ary, a, e), b.fillDatainDropdwonLayer(d, b.NLi[0], c, b.NLi[3], b.NLi[4])), b.liCntrFx = b.liCntr = b.NLi[1], "Unchecked" != b.sts && b.chkBox && b.NLi[2])
                    for (var g = 0; g < b.NLi[2].length; g++) {
                        for (var h in b.obj.id[d][1])
                            if (b.obj.id[d][1][h] == b.NLi[2][g][3]) break;
                        b.CreateTags(b.NLi[2][g][0], b.NLi[2][g][1], b.NLi[2][g][2], h, b.tags)
                    }
                b.setInputText()
            }
        }
        var b = function(a) {
                return a.replace(/\s/g, "SxP")
            },
            c = function(a) {
                return a.replace(/SxP/g, " ")
            },
            d = function(a) {
                return a ? a.replace(/\_/g, "undrxxscr") : ""
            },
            e = function(a) {
                return a ? a.replace(/undrxxscr/gi, "_") : ""
            },
            f = function(a, b, c, d) {
                var e, f = "",
                    g = this,
                    h = g.id,
                    i = [],
                    j = "",
                    k = 0,
                    l = 0;
                for (var m in a)
                    for (var n in a[m]) {
                        var o = g.Escp(n),
                            p = g.eUnderScore(o);
                        if ("object" == typeof a[m][n]) {
                            f += '<li class="optgroup" data-id=opt_' + p + " bindTo=" + m + ">" + n + "</li>", k++;
                            for (var q in a[m][n]) {
                                var r = g.Escp(q);
                                if (b[h])
                                    if (b[h][q]) {
                                        var s;
                                        if (parseInt(b[h][q]) ? s = q : "", s === q) {
                                            g.inpVal = q, j = a[m][n][q];
                                            var t = m ? h + "_" + r + "_" + p + "_" + m : h + "_" + r + "_" + p,
                                                u = [j, t, h, r];
                                            i[l++] = u, k++, f += g.createLi(h + "_" + r + "_" + p, a[m][n][q], m), e = p
                                        }
                                    } else {
                                        c === q && (g.inpVal = q, j = a[m][n][q], e = p), k++;
                                        var v = g.selCheckBox(h, p, m, r);
                                        f += g.createLi(h + "_" + r + "_" + p, a[m][n][q], m, v)
                                    } else {
                                    c === q && (g.inpVal = q, j = a[m][n][q]);
                                    var w = g.selCheckBox(h, p, m, r);
                                    f += g.createLi(h + "_" + r + "_" + p, a[m][n][q], m, w), k++
                                }
                            }
                        } else if (g.chkBox) {
                            var x = "";
                            if (b && (b[h][n] ? x = n : ""), x == n) {
                                var y = [a[m][n], h + "_" + p + "_" + m, h, n];
                                i[l++] = y, f += g.createLi(h + "_" + p, a[m][n], m, ""), k++
                            } else {
                                var z = g.selCheckBox(h, p, m);
                                f += g.createLi(h + "_" + p, a[m][n], m, z), k++
                            }
                        } else g.obj.id[h][1] == n ? (f += g.createLi(h + "_" + p, a[m][n]), g.inpVal = n, j = a[m][n], k++, d ? "" : g.SingleSelection(a[m][n], [h, n])) : (f += g.createLi(h + "_" + p, a[m][n]), k++)
                    }
                if (g.chkBox && g.tagsSorting === !1) {
                    var A = [],
                        B = 0;
                    for (var C in c)
                        for (var D in i) i[D][3] == C && (A[B++] = i[D]);
                    i = A
                }
                return $.extend(g.Ary, a), [f, k, i, j, e]
            },
            g = function(a, b, c, d, e) {
                var f = "",
                    g = this,
                    a = a.toString();
                if (getPos = a.toLowerCase().indexOf(b.toLowerCase()), strLower = a.toLowerCase(), sTxtValueLower = b.toLowerCase(), spaceVal = strLower.indexOf(" " + sTxtValueLower) < 0 ? !1 : strLower.indexOf(" " + sTxtValueLower), bracketVal = strLower.indexOf("(" + sTxtValueLower) < 0 ? !1 : strLower.indexOf("(" + sTxtValueLower), slashVal = strLower.indexOf("/" + sTxtValueLower) < 0 ? !1 : strLower.indexOf("/" + sTxtValueLower), getPos >= 0 && (spaceVal || bracketVal || slashVal) || 0 === getPos) {
                    getPos && (spaceVal ? getPos = spaceVal + 1 : bracketVal ? getPos = bracketVal + 1 : slashVal && (getPos = slashVal + 1));
                    var h = a.substr(0, getPos),
                        i = "<b>" + a.substr(getPos, b.length) + "</b>",
                        j = a.substr(getPos + b.length, a.length),
                        k = g.Escp(d);
                    f = g.selChkBox(k + "_" + e, c) ? g.createLi(k, h + i + j, e, "chkd") : g.createLi(k, h + i + j, e), g.srchCntr++
                }
                return f
            },
            h = function(a) {
                var b = 0,
                    c = this;
                for (var d in c.ChkBoxContr) a == c.ChkBoxContr[d] && (b = 1);
                return b ? !0 : !1
            },
            i = function(a, b, c, d) {
                var e = 0;
                for (var f in this.ChkBoxContr) {
                    e = 1;
                    break
                }
                return e ? d ? this.selChkBox(a + "_" + d + "_" + b + "_" + c, a) ? "chkd" : "" : this.selChkBox(a + "_" + b + "_" + c, a) ? "chkd" : "" : void 0
            },
            j = function(a, b, c, d) {
                return c = c ? 'bindTo="' + c + '"' : "", d = d ? 'class="' + d + '"' : "", '<li class="pickVal" ' + c + '><a href="javascript:;" ' + d + " data-id=" + a + ">" + b + "</a></li>"
            },
            k = function(a) {
                $("#clrAll_" + a).hide(), this.inpElm.css({
                    width: ""
                }), $("#" + a).find("li.frst").css({
                    "float": "none"
                })
            },
            l = function() {
                var a, b = this,
                    c = b.id,
                    d = $("#dp_" + c),
                    e = $("#ul_" + c),
                    f = e.find("ul"),
                    g = f.find("li:first-child");
                b.curActElm = g, b.curActElm.addClass("active");
                var h = b.inpHid.attr("value");
                if (h && !b.chkBox) {
                    b.curActElm.removeClass("active");
                    var i = b.sortPrefix ? b.sortPrefix + b.Escp(h) : b.Escp(h);
                    a = b.inpHid.data("optGroupKey") ? c + "_" + i + "_" + b.inpHid.data("optGroupKey") : c + "_" + i, b.curActElm = $("#ul_" + b.id).find("ul").find('[data-id="' + a + '"]').parent().addClass("active"), ieObj.scrollHandler(e, d, f, g, b.curActElm)
                }
            },
            m = function(a, b, c) {
                var d = this;
                c && "all" == c.toLowerCase() ? d.Allflg = "" : "";
                var e, f = d.dUnderScore(d.uEscp(a)).replace(d.sortPrefix, ""),
                    g = $.inArray(f, d.hidValue); - 1 !== g && (d.hidValue.splice(g, 1), e = $.stringify(d.hidValue)), 0 == d.hidValue.length && (d.resetInpWidth(b), e = d.hidValue), d.inpHid.val(e)
            },
            n = function() {
                var a = this;
                a.placeholder && a.inpElm.attr("placeholder", a.inpElm.data("placeholder")), a.inpElm.parents(".frst").css({
                    "float-left": "none"
                })
            },
            o = function(a, b, c, d) {
                var e = this,
                    f = e.id,
                    g = a.replace("tg_", ""),
                    h = g.split("_"),
                    i = 4 == h.length ? h[0] + "_" + h[1] + "_" + h[2] : h[0] + "_" + h[1];
                if ($("#ul_" + f).find('[data-id="' + i + '"]').removeClass("chkd"), d ? $("#" + d).remove() : e.TagSpCnt ? $("#" + e.TagSpCnt).find('[data-id="' + a + '"]').remove() : $("#" + f).find(".DDsearch").find('[data-id="' + a + '"]').remove(), e.emptyHidField(g.split("_")[1], f, b), e.TagCnt--, !e.TagCnt) {
                    var j = e.inpElm;
                    j.val(""), e.setPlaceHolderAttribute()
                }
                for (var k in e.ChkBoxContr) e.ChkBoxContr[k] == g && delete e.ChkBoxContr[k];
                c ? e.onClickLi(e.obj, e.dUnderScore(e.uEscp(h[1])), "Unchecked", "", e.TagCnt) : ""
            },
            p = function(a) {
                var b = this,
                    c = b.id,
                    d = 0;
                $("#dp_" + c).find("ul li").each(function() {
                    if ($(this).attr("bindTo") == a.key) {
                        var c = $(this).children("a");
                        if (c.length) {
                            var e = c.data("id");
                            c.hasClass("chkd") && (delete b.ChkBoxContr[b.uEscp(e.split("_")[1])], b.removeTag("tg_" + e + "_" + b.Escp(a.key), c.html(), !0))
                        }
                        d++, $(this).remove()
                    }
                }), delete b.Ary[a.key], b.liCntr = b.liCntr - d, $("#ul_" + b.id).find("li").length || $("#" + b.id).find(".tagit").remove()
            },
            q = function(a, b) {
                var c = this.id;
                for (var d in a) this.CreateTags(a[d], c + "_" + d + "_A", c, 0, b)
            },
            r = function(a) {
                var b = this,
                    c = {};
                if ("Checked" == a.status) {
                    if (c[a.key] = a.data, b.NLi = b.appendData.call(b, c, ""), $("#ul_" + b.id).find("ul.ChkboxEnb").append(b.NLi[0]), !$.isEmptyObject(a.prefillData))
                        for (var d in a.prefillData) {
                            var e = $("#hid_" + b.id).val() ? $.parseJSON($("#hid_" + b.id).val()) : [];
                            if (-1 == $.inArray(a.prefillData[d], e) && a.data[a.prefillData[d]]) var d = b.CreateTags(a.data[a.prefillData[d]], b.id + "_" + b.Escp(a.prefillData[d].toString()) + "_" + a.key, b.id, 0, !0)
                        }
                    b.liCntr += b.NLi[1]
                } else this.removeBlockofData(a)
            },
            s = function(a) {
                var b = this,
                    c = b.id;
                b.Ary = {
                    A: a.data
                };
                var d = b.appendData.call(b, b.Ary, "");
                $("#dp_" + c + " ul").html(d[0]), b.setValueInHiddenField("", "", a.prefillData && a.prefillData.length || 0 == a.isReset ? !1 : !0), b.liCntr = b.liCntrFx = d[1]
            },
            t = function(a) {
                var b = this.id;
                for (var c in a.keyObject) this.removeTag("tg_" + b + "_" + a.keyObject[c] + "_A", "", a.tag_onof_flag, a.remId)
            },
            u = function() {
                var a = this,
                    b = a.id;
                $("#dp_" + b).hide(), $("#" + b).find(".DDwrap").removeClass("brBotN"), a.chkBox ? a.inpElm.val("") : (a.curActElm ? a.curActElm.removeClass("active") : "", a.inpHid.val() || a.inpElm.val("")), a.setInputText()
            };
        return {
            appendData: f,
            searchData: g,
            selChkBox: h,
            selCheckBox: i,
            createLi: j,
            Escp: b,
            uEscp: c,
            eUnderScore: d,
            dUnderScore: e,
            fillData: a,
            resetInpWidth: k,
            firstHighlight: l,
            addSelected: q,
            deleteSelected: t,
            hideDD: u,
            removeTag: o,
            emptyHidField: m,
            replaceData: s,
            addData: r,
            removeBlockofData: p,
            setPlaceHolderAttribute: n
        }
    }(), DD.Ary = {};
});
